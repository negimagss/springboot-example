<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Page</title>
</head>
<body>
        <h1>Hello Page</h1>
        <div id="username-container">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="Enter Username">
        </div>
<div id="response"></div>
<script>
    // Get the username input element
    const usernameInput = document.getElementById('username');
  
    // Function to get current date and time (improved formatting)
    function getFormattedDateTime() {
      const now = new Date();
      return now.toLocaleString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
      });
    }
  
    fetch('/')
      .then(response => response.json())
      .then(data => {
        const responseDiv = document.getElementById('response');
        const username = usernameInput.value; // Get username from input
        const loginTime = getFormattedDateTime();
  
        responseDiv.innerHTML = `
            <p>Username: ${username}</p>
            <p>Login Time: ${loginTime}</p>
            <p>Name: ${data.name}</p>
            <p>Text: ${data.text}</p>
            <p>Current Date and Time: ${data.currentDateTime}</p>
        `;
      })
      .catch(error => console.error('Error fetching data:', error));
  </script>
  
</body>
</html>
